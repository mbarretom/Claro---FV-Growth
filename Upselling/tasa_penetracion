Nombre: Cálculo de Tasa de Penetración de Campañas (Upselling)

Descripción Medición de la cantidad de usuarios impactados por una campaña de un Producto vs. Potencial

Autor: Mateo Barreto Montealegre

Fecha: 22/09/2025 

-- Tasa de Penetración de Bases Gneradas 

SELECT COUNT(DISTINCT TELE_NUMB) FROM POTENCIAL_CAMPANA A
WHERE A.p_OTT_NETFLIX = 'TRUE'
AND A.B_POSPAGO = 'TRUE'
AND A.GRUPO_CONTROL IS NULL 
AND A.EXCLUSION_COMERCIAL IS NULL
AND RIGHT(TELE_NUMB,10) NOT IN (SELECT RIGHT(TELE_NUMB,10) FROM SENT_CAMPAIGNS_LOG A -- CAMBIAR EL NOT IN POR IN SI SE QUIERE IDENTIFICAR A CLIENTES IMPACTADOS
								INNER JOIN GROWTH_CAMPAIGN_OPTION B
								ON A.NEMOTECNIA = B.NEMOTECNIA 
								WHERE PRODUCT = 'OTT'
  								AND TRUNC(SENT_AT) BETWEEN ADD_MONTHS(TRUNC(CURRENT_DATE, 'MM'), 0)
                    			AND LAST_DAY(CURRENT_DATE))


-- Tasa de Penetración de Productos vs. envíos efectivos

SELECT COUNT(DISTINCT TELE_NUMB) FROM POTENCIAL_CAMPANA A
WHERE A.p_OTT_NETFLIX = 'TRUE'
AND A.B_POSPAGO = 'TRUE'
AND A.GRUPO_CONTROL IS NULL 
AND A.EXCLUSION_COMERCIAL IS NULL
AND RIGHT(TELE_NUMB,10) NOT IN (SELECT RIGHT(TELE_NUMB,10) FROM VW_TBL_FACT_AUT_TCM  A -- CAMBIAR EL NOT IN POR IN SI SE QUIERE IDENTIFICAR A CLIENTES IMPACTADOS
								INNER JOIN GROWTH_CAMPAIGN_OPTION B
								ON A.NEMOTECNIA = B.NEMOTECNIA 
								WHERE PRODUCT = 'OTT'
								AND A.BAN_AUTORIZACION_ENVIO = 'SI'
  								AND TRUNC(FECHA) BETWEEN ADD_MONTHS(TRUNC(CURRENT_DATE, 'MM'), 0)
                    			AND LAST_DAY(CURRENT_DATE))

